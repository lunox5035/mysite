<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="board">

	<insert id="insert" parameterType="boardvo">
	<![CDATA[
	insert 
	into borad 
	values (null,#{title },#{contents },0,now())
	]]>
	</insert>
	<delete id="delete" parameterType="Long">
	<![CDATA[
	delete from borad where no = #{no }
	]]>
	</delete>

	<update id="update">
		update borad
		set title=#{title },contents=#{contents }
		where no=#{no }
	</update>

	<select id="view" resultType="boardvo">
		select title,contents,user_no
		from board
		where no=#{no}
	</select>

	<select id="findByNo" resultType="boardvo">
		select title, contents
		from borad
		where no=#{no}
	</select>

	<select id="findAll" resultType="boardvo">
		select
			a.no as no,
			a.title as title,
			a.contents as contents,
			a.hit as hit,
			date_format(a.reg_date, '%Y/%m/%d %H:%i:%s' ) as regDate,
			a.group_no as group_no,
			a.order_no as order_no,
			a.depth as depth,
			a.user_no as user_no,
			b.name as name
		from board a, user b
		where a.user_no = b.no
	</select>



</mapper>